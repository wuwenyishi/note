

![image.png](https://github.com/wuwenyishi/pages/raw/gh-pages/image/others/1616830617249-353047f5-904e-404b-baa3-0927fc5b4f77.png)

### 方式一： 先更新数据库，再更新缓存

![image.png](https://github.com/wuwenyishi/pages/raw/gh-pages/image/others/1616831172055-44a1ca85-3974-494d-aa8b-d4ebbc3405db.png)

![image.png](https://github.com/wuwenyishi/pages/raw/gh-pages/image/others/1616831217400-3b84a864-5a2c-4bdf-9e74-3e56c066c30f.png)



### 方式二：先删缓存，再更新数据库

![image.png](https://github.com/wuwenyishi/pages/raw/gh-pages/image/others/1616831509175-c5f3169f-903d-4350-ba74-c2bd58286adc.png)

![image.png](https://github.com/wuwenyishi/pages/raw/gh-pages/image/others/1616831579262-008fbb7b-e557-4304-b68d-9a7116a6b68a.png)

![image.png](https://github.com/wuwenyishi/pages/raw/gh-pages/image/others/1616832118844-b6b49d56-7c2a-4ffe-90df-fec448cd9550.png)

![image.png](https://github.com/wuwenyishi/pages/raw/gh-pages/image/others/1616832224837-2684fac9-4305-4e31-a89b-2c6323be1929.png)

![image.png](https://github.com/wuwenyishi/pages/raw/gh-pages/image/others/1616832261751-69493367-cb6b-45d5-b39c-4e3cc3c0eaaf.png)

![image.png](https://github.com/wuwenyishi/pages/raw/gh-pages/image/others/1616832301163-15e5857b-acfb-459b-b2fc-5977f5eeb378.png)



### 方式三：先更新数据库，再删缓存

![image.png](https://github.com/wuwenyishi/pages/raw/gh-pages/image/others/1616832821538-ec765b59-1b06-4150-a804-4be074240641.png)

![image.png](https://github.com/wuwenyishi/pages/raw/gh-pages/image/others/1616833138358-58b31377-e7ea-4496-ab02-8e1ca146e25d.png)

![image.png](https://github.com/wuwenyishi/pages/raw/gh-pages/image/others/1616833205589-da05da22-7e3f-491c-834d-dd3b07770714.png)

![image.png](https://github.com/wuwenyishi/pages/raw/gh-pages/image/others/1616833256057-3fc89667-0735-44b6-982d-3f917b245c13.png)

![image.png](https://github.com/wuwenyishi/pages/raw/gh-pages/image/others/1616833278950-6d618e3f-dc05-494b-bd2d-36c36316ecc5.png)

![image.png](https://github.com/wuwenyishi/pages/raw/gh-pages/image/others/1616833293111-53a6c67e-ce63-48bd-9e67-b40970b13e24.png)

![image.png](https://github.com/wuwenyishi/pages/raw/gh-pages/image/others/1616833332680-af709752-31ec-4793-b293-2b98b1936329.png)

![image.png](https://github.com/wuwenyishi/pages/raw/gh-pages/image/others/1616833344867-42c32b3e-ecee-4139-8df7-7f79aa40f928.png)



> 相关文章：[文章1](https://developer.aliyun.com/article/712285)  [文章2](https://www.cnblogs.com/rjzheng/p/9041659.html)  [文章3](https://note.dolyw.com/cache/00-DataBaseConsistency.html)